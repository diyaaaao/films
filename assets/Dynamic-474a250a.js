import{f as u,r as y,j as g,o as i,c as _,d as s,u as v,i as p,t as r,k as f,a as d,l as R,m as D,_ as I,F as $,h as b,b as k,w as S,z as w,A as B,B as z}from"./index-e4e7dce6.js";/* empty css              */const A={class:"intro"},j=["src"],F={class:"intro__block"},L={class:"intro__block-left"},U={class:"intro__block-left-title"},C={class:"intro__block-left-text"},M={class:"intro__block-left-descr"},N={class:"intro__block-right"},O={class:"intro__block-right-img",alt:""},V={class:"intro__block-actors"},Y=s("h1",{class:"intro__block-actors-name"},"В главных ролях",-1),E={__name:"Intro",props:{item:Object,type:String},setup(o){const e=o,n=u(()=>{let t=e.type=="movie"?"release_date":e.type=="tv"?"first_air_date":"";return new Date(e.item[t]).getFullYear()}),c=u(()=>e.item.genres.reduce((t,a)=>t+", "+a.name,"")),m=u(()=>{let t=e.type=="movie"?e.item.runtime:e.type=="tv"?e.item.episode_run_time[0]:"",a=Math.floor(t/60),l=t%60;return a==0?`${l}m`:`${a}h ${l}m`});return(t,a)=>{const l=y("Actors"),h=g("lazy");return i(),_("div",A,[s("img",{src:v(p)+o.item.backdrop_path,alt:"",class:"intro__img"},null,8,j),s("div",F,[s("div",L,[s("h1",U,r(o.item.title||o.item.name),1),s("p",C,r(o.item.overview),1),s("p",M,[s("span",null,r(n.value),1),s("span",null,r(c.value),1),s("span",null,r(m.value),1)])]),s("div",N,[f(s("img",O,null,512),[[h,v(p)+o.item.poster_path]])]),s("div",V,[Y,d(l,{type:o.type,id:o.item.id,count:6},null,8,["type","id"])])])])}}},G=R("rec",{state:()=>({movieRecs:null,tvRecs:null}),actions:{async getRecs({type:o,id:e}){try{let n=await D.get(`${o}/${e}/recommendations?language=ru-RU`);o=="movie"?(this.movieRecs=n.data.results,console.log(n.data.results)):o=="tv"&&(this.tvRecs=n.data.results,console.log(n.data.results))}catch(n){console.log(n)}}}});const T={class:"info"},q={class:"container"},H={class:"info__box"},J={class:"info__box-item-name"},K={class:"info__box-item-value"},P={__name:"Info",props:{type:String,item:Object},setup(o){const e=o,n=u(()=>[{name:"Бюджет",value:`${e.item.budget?"$"+e.item.budget:"Неизвестно"}`},{name:"Сборы",value:`${e.item.revenue?"$"+e.item.revenue:"Неизвестно"}`},{name:"Статус",value:`${e.item.status}`},{name:"Исходное название",value:e.item.title||e.item.name}]);return(c,m)=>(i(),_("div",T,[s("div",q,[s("div",H,[(i(!0),_($,null,b(n.value,t=>(i(),_("div",{class:"info__box-item",key:t.name},[s("span",J,r(t.name),1),s("span",K,r(t.value),1)]))),128))])])]))}},Q=I(P,[["__scopeId","data-v-056a005b"]]);const W={class:"rec"},X={class:"container"},Z=s("h2",{class:"rec__title"},"Рекомендуем",-1),ee={class:"rec__list"},te={alt:"",class:"rec__list-item-img"},se={class:"rec__list-item-title"},oe={__name:"Rec",props:{type:String,recData:Array},setup(o){return(e,n)=>{const c=y("router-link"),m=g("lazy");return i(),_("div",W,[s("div",X,[Z,s("div",ee,[(i(!0),_($,null,b(o.recData,t=>(i(),k(c,{to:`${t.id}`,class:"rec__list-item",key:t.id},{default:S(()=>[f(s("img",te,null,512),[[m,v(p)+t.backdrop_path]]),s("h1",se,r(t.title||t.name),1)]),_:2},1032,["to"]))),128))])])])}}},ne={key:0,class:"main__dynamic"},ce={__name:"Dynamic",props:{type:String},setup(o){const e=o,n=w(),c=G();c.getRecs({type:e.type,id:n.params.id});const m=u(()=>{let l=e.type=="movie"?c.movieRecs:e.type=="tv"?c.tvRecs:"";if(l)return l.splice(0,4)}),t=B();t.getItemId({type:e.type,id:n.params.id}),console.log(n.params.id);const a=u(()=>e.type=="movie"?t.movie:e.type=="tv"?t.tv:"");return z(()=>{t.movie=t.tv=null}),(l,h)=>{const x=y("Loader");return a.value?(i(),_("div",ne,[d(E,{item:a.value,type:o.type},null,8,["item","type"]),d(Q,{item:a.value,type:o.type},null,8,["item","type"]),d(oe,{recData:m.value,type:o.type},null,8,["recData","type"])])):(i(),k(x,{key:1}))}}};export{ce as _};
