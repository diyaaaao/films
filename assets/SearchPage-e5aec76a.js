import{r as g,j as v,o as a,b as d,w as f,k as p,d as l,u as o,i as y,t as k,l as S,m as $,g as h,n as x,f as w,q as D,c as i,v as B,F as C,h as V,s as b,a as N}from"./index-e4e7dce6.js";const T={alt:"",class:"main__search-list-item-img"},U={class:"main__search-list-item-title"},j={__name:"SearchContent",props:{item:Object},setup(e){return(t,s)=>{const r=g("router-link"),n=v("lazy");return a(),d(r,{to:`/${e.item.media_type}/${e.item.id}`,class:"main__search-list-item"},{default:f(()=>[p(l("img",T,null,512),[[n,o(y)+e.item.backdrop_path]]),l("h2",U,k(e.item.title||e.item.name),1)]),_:1},8,["to"])}}},q=S("search",{state:()=>({result:null}),actions:{async getSearchData(e){try{let t=await $.get(`search/multi?query=${e}&language=ru-RU`);this.result=t.data.results}catch(t){console.log("Ошибка при получении популярных фильмов и сериалов"+t.message)}}}}),z={class:"main__search"},F={class:"container"},M={key:0,class:"main__search-list"},A={__name:"Search",setup(e){const t=h(""),s=h(null),r=q();let n=null;x(t,m=>{clearTimeout(n),n=setTimeout(()=>{r.getSearchData(m)},500)});let u=w(()=>r.result);return D(()=>{s.value.focus()}),(m,_)=>(a(),i("div",z,[l("div",F,[p(l("input",{type:"text",class:"main__search-input",placeholder:"Найти фильм, сериал...","onUpdate:modelValue":_[0]||(_[0]=c=>t.value=c),ref_key:"input",ref:s},null,512),[[B,t.value]]),o(u)?(a(),i("div",M,[(a(!0),i(C,null,V(o(u),c=>(a(),d(j,{key:c.id,item:c},null,8,["item"]))),128))])):b("",!0)])]))}},E={class:"main"},O={__name:"SearchPage",setup(e){return(t,s)=>(a(),i("main",E,[N(A)]))}};export{O as default};
